/*C2*/SET SCHEMA PUBLIC
alter table analytics drop constraint FK9B169B86104CA5AE
alter table asksg_user_roles drop constraint FK2EFF763B26F59FFE
alter table asksg_user_roles drop constraint FK2EFF763BA815C3D5
alter table conversation_messages drop constraint FK2D28B988F42B9766
alter table conversation_messages drop constraint FK2D28B988BBD6A6F3
alter table message drop constraint FK38EB0007F42B9766
alter table message drop constraint FK38EB00071190F4AC
drop table analytics if exists
drop table asksg_user if exists
drop table asksg_user_roles if exists
drop table conversation if exists
drop table conversation_messages if exists
drop table email if exists
drop table facebook if exists
drop table message if exists
drop table provider_config if exists
drop table reddit if exists
drop table topic_tag if exists
drop table twilio if exists
drop table twitter if exists
drop table user_role if exists
drop table user_tag if exists
create table analytics (id bigint generated by default as identity (start with 1), sentiment_score double, version integer, message bigint, primary key (id))
create table asksg_user (id bigint generated by default as identity (start with 1), name varchar(255) not null, password varchar(255) not null, user_name varchar(255) not null, version integer, primary key (id))
create table asksg_user_roles (asksg_user bigint not null, roles bigint not null, primary key (asksg_user, roles))
create table conversation (id bigint generated by default as identity (start with 1), created timestamp not null, modified timestamp not null, version integer, primary key (id))
create table conversation_messages (conversation bigint not null, messages bigint not null, primary key (conversation, messages))
create table email (id bigint generated by default as identity (start with 1), version integer, primary key (id))
create table facebook (id bigint generated by default as identity (start with 1), version integer, primary key (id))
create table message (id bigint generated by default as identity (start with 1), author varchar(255) not null, content varchar(255) not null, created timestamp not null, modified timestamp not null, version integer, analytics bigint, conversation bigint, primary key (id))
create table provider_config (id bigint generated by default as identity (start with 1), authentication_token varchar(255), host varchar(255), password varchar(255), port integer not null, username varchar(255), version integer, primary key (id))
create table reddit (id bigint generated by default as identity (start with 1), version integer, primary key (id))
create table topic_tag (id bigint generated by default as identity (start with 1), version integer, primary key (id))
create table twilio (id bigint generated by default as identity (start with 1), version integer, primary key (id))
create table twitter (id bigint generated by default as identity (start with 1), version integer, primary key (id))
create table user_role (id bigint generated by default as identity (start with 1), name varchar(255), version integer, primary key (id))
create table user_tag (id bigint generated by default as identity (start with 1), version integer, primary key (id))
alter table analytics add constraint FK9B169B86104CA5AE foreign key (message) references message
alter table asksg_user_roles add constraint FK2EFF763B26F59FFE foreign key (roles) references user_role
alter table asksg_user_roles add constraint FK2EFF763BA815C3D5 foreign key (asksg_user) references asksg_user
alter table conversation_messages add constraint FK2D28B988F42B9766 foreign key (conversation) references conversation
alter table conversation_messages add constraint FK2D28B988BBD6A6F3 foreign key (messages) references message
alter table message add constraint FK38EB0007F42B9766 foreign key (conversation) references conversation
alter table message add constraint FK38EB00071190F4AC foreign key (analytics) references analytics
INSERT INTO MESSAGE VALUES(1,'Socrates','For the unexamined life is not worth living','2013-01-27 14:46:33.607000','2013-01-27 14:46:33.607000',0,NULL,NULL)
INSERT INTO CONVERSATION VALUES(1,'2013-01-27 14:46:33.604000','2013-01-27 14:46:33.604000',0)
INSERT INTO CONVERSATION_MESSAGES VALUES(1,1)
COMMIT
INSERT INTO ASKSG_USER VALUES(1,'ian','ian','ian',0)
INSERT INTO USER_ROLE VALUES(1,'ROLE_ADMIN',0)
INSERT INTO ASKSG_USER_ROLES VALUES(1,1)
COMMIT
